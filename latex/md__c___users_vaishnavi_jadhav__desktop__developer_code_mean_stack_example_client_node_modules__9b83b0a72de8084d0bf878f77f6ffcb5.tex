Spawn processes the way the npm cli likes to do. Give it some options, it\textquotesingle{}ll give you a Promise that resolves or rejects based on the results of the execution.

Note\+: When the current user is root, this will use \href{http://npm.im/infer-owner}{\texttt{ {\ttfamily infer-\/owner}}} to find the owner of the current working directory, and run with that effective uid/gid. Otherwise, it runs as the current user always. (This helps prevent doing git checkouts and such, and leaving root-\/owned files lying around in user-\/owned locations.)\hypertarget{md__c___users_vaishnavi_jadhav__desktop__developer_code_mean_stack_example_client_node_modules__9b83b0a72de8084d0bf878f77f6ffcb5_autotoc_md1325}{}\doxysection{USAGE}\label{md__c___users_vaishnavi_jadhav__desktop__developer_code_mean_stack_example_client_node_modules__9b83b0a72de8084d0bf878f77f6ffcb5_autotoc_md1325}

\begin{DoxyCode}{0}
\DoxyCodeLine{const promiseSpawn = require('@npmcli/promise-\/spawn')}
\DoxyCodeLine{}
\DoxyCodeLine{promiseSpawn('ls', [ '-\/laF', 'some/dir/*.js' ], \{}
\DoxyCodeLine{  cwd: '/tmp/some/path', // defaults to process.cwd()}
\DoxyCodeLine{  stdioString: false, // stdout/stderr as strings rather than buffers}
\DoxyCodeLine{  stdio: 'pipe', // any node spawn stdio arg is valid here}
\DoxyCodeLine{  // any other arguments to node child\_process.spawn can go here as well,}
\DoxyCodeLine{  // but uid/gid will be ignored and set by infer-\/owner if relevant.}
\DoxyCodeLine{\}, \{}
\DoxyCodeLine{  extra: 'things',}
\DoxyCodeLine{  to: 'decorate',}
\DoxyCodeLine{  the: 'result',}
\DoxyCodeLine{\}).then(result => \{}
\DoxyCodeLine{  // \{code === 0, signal === null, stdout, stderr, and all the extras\}}
\DoxyCodeLine{  console.log('ok!', result)}
\DoxyCodeLine{\}).catch(er => \{}
\DoxyCodeLine{  // er has all the same properties as the result, set appropriately}
\DoxyCodeLine{  console.error('failed!', er)}
\DoxyCodeLine{\})}

\end{DoxyCode}
\hypertarget{md__c___users_vaishnavi_jadhav__desktop__developer_code_mean_stack_example_client_node_modules__9b83b0a72de8084d0bf878f77f6ffcb5_autotoc_md1326}{}\doxysection{API}\label{md__c___users_vaishnavi_jadhav__desktop__developer_code_mean_stack_example_client_node_modules__9b83b0a72de8084d0bf878f77f6ffcb5_autotoc_md1326}
\hypertarget{md__c___users_vaishnavi_jadhav__desktop__developer_code_mean_stack_example_client_node_modules__9b83b0a72de8084d0bf878f77f6ffcb5_autotoc_md1327}{}\doxysubsection{$<$tt$>$promise\+Spawn(cmd, args, opts, extra)$<$/tt$>$ -\/$>$ $<$tt$>$\+Promise$<$/tt$>$}\label{md__c___users_vaishnavi_jadhav__desktop__developer_code_mean_stack_example_client_node_modules__9b83b0a72de8084d0bf878f77f6ffcb5_autotoc_md1327}
Run the command, return a Promise that resolves/rejects based on the process result.

Result or error will be decorated with the properties in the {\ttfamily extra} object. You can use this to attach some helpful info about {\itshape why} the command is being run, if it makes sense for your use case.

If {\ttfamily stdio} is set to anything other than `\textquotesingle{}inherit'{\ttfamily , then the result/error will be decorated with}stdout{\ttfamily and}stderr{\ttfamily values. If}stdio\+String{\ttfamily is set to}true\`{}, these will be strings. Otherwise they will be Buffer objects.

Returned promise is decorated with the {\ttfamily stdin} stream if the process is set to pipe from {\ttfamily stdin}. Writing to this stream writes to the {\ttfamily stdin} of the spawned process.\hypertarget{md__c___users_vaishnavi_jadhav__desktop__developer_code_mean_stack_example_client_node_modules__9b83b0a72de8084d0bf878f77f6ffcb5_autotoc_md1328}{}\doxysubsubsection{Options}\label{md__c___users_vaishnavi_jadhav__desktop__developer_code_mean_stack_example_client_node_modules__9b83b0a72de8084d0bf878f77f6ffcb5_autotoc_md1328}

\begin{DoxyItemize}
\item {\ttfamily stdio\+String} Boolean, default {\ttfamily false}. Return stdout/stderr output as strings rather than buffers.
\item {\ttfamily cwd} String, default {\ttfamily process.\+cwd()}. Current working directory for running the script. Also the argument to {\ttfamily infer-\/owner} to determine effective uid/gid when run as root on Unix systems.
\item Any other options for {\ttfamily child\+\_\+process.\+spawn} can be passed as well, but note that {\ttfamily uid} and {\ttfamily gid} will be overridden by the owner of the cwd when run as root on Unix systems, or {\ttfamily null} otherwise. 
\end{DoxyItemize}
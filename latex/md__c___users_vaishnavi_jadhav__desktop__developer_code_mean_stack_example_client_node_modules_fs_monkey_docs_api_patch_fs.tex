Rewrites Node\textquotesingle{}s filesystem module {\ttfamily fs} with {\itshape fs-\/like} object.


\begin{DoxyItemize}
\item {\ttfamily vol} -\/ fs-\/like object
\item {\ttfamily fs} $\ast$(optional)$\ast$ -\/ a filesystem to patch, defaults to `require(\textquotesingle{}fs')\`{}
\end{DoxyItemize}


\begin{DoxyCode}{0}
\DoxyCodeLine{import \{patchFs\} from 'fs-\/monkey';}
\DoxyCodeLine{}
\DoxyCodeLine{const myfs = \{}
\DoxyCodeLine{    readFileSync: () => 'hello world',}
\DoxyCodeLine{\};}
\DoxyCodeLine{}
\DoxyCodeLine{patchFs(myfs);}
\DoxyCodeLine{console.log(require('fs').readFileSync('/foo/bar')); // hello world}

\end{DoxyCode}


You don\textquotesingle{}t need to create {\itshape fs-\/like} objects yourself, use \href{https://github.com/streamich/memfs}{\texttt{ {\ttfamily memfs}}} to create a virtual filesystem for you\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{import \{vol\} from 'memfs';}
\DoxyCodeLine{import \{patchFs\} from 'fs-\/monkey';}
\DoxyCodeLine{}
\DoxyCodeLine{vol.fromJSON(\{'/dir/foo': 'bar'\});}
\DoxyCodeLine{patchFs(vol);}
\DoxyCodeLine{console.log(require('fs').readdirSync('/')); // [ 'dir' ]}

\end{DoxyCode}
 